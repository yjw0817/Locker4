# 📐 락커 정렬 기능 테스트 가이드

## 🎯 구현된 기능

### 1. ✅ 정렬 가이드라인 시스템
- **자동 감지**: 드래그 중 5px 이내 자동 정렬선 표시
- **시각적 피드백**: 초록색 점선 가이드라인 (애니메이션 효과)
- **정렬 포인트**: 상단, 중앙, 하단 (수평) / 왼쪽, 중앙, 오른쪽 (수직)

### 2. ✅ 스마트 스냅 (줄맞춤 우선)
- **우선순위**: 정렬 > 인접 배치 > 그리드
- **정렬 종류**:
  - top-to-top: 상단 맞춤
  - bottom-to-bottom: 하단 맞춤
  - center-to-center: 중앙 맞춤
  - left-to-left: 왼쪽 맞춤
  - right-to-right: 오른쪽 맞춤

### 3. ✅ 자동 정렬 기능
- **그룹 인식**: 100px 이내 락커들을 하나의 그룹으로 인식
- **격자 정렬**: 그룹별로 격자형 자동 정렬
- **간격 없음**: 락커끼리 붙여서 정렬

## 🎮 키보드 단축키

| 키 | 기능 | 상태 |
|---|------|------|
| **A** | 자동 정렬 실행 | ✅ 구현됨 |
| **G** | 가이드라인 토글 ON/OFF | ✅ 구현됨 |
| **Ctrl+G** | 자동 정렬 (대체) | ✅ 구현됨 |
| **R** | 45도 회전 | ✅ 기존 기능 |
| **Delete** | 락커 삭제 | ✅ 기존 기능 |
| **화살표** | 락커 이동 | ✅ 기존 기능 |
| **Shift+화살표** | 빠른 이동 (20px) | ✅ 기존 기능 |

## 🧪 테스트 시나리오

### 시나리오 1: 드래그 정렬 테스트
1. 락커 2개 배치
2. 하나를 드래그하여 다른 락커 근처로 이동
3. **예상 결과**:
   - 5px 이내 접근 시 초록색 점선 가이드라인 표시
   - 자동으로 줄이 맞춰짐
   - 콘솔: `[Alignment] Y-axis: top-to-top with locker L1`

### 시나리오 2: 자동 정렬 테스트
1. 락커 5-6개를 무작위로 배치
2. **A키** 또는 **Ctrl+G** 누르기
3. **예상 결과**:
   ```
   [AutoAlign] Starting automatic alignment...
   [AutoAlign] Processing group 1 with 6 lockers
   [AutoAlign] Alignment complete!
   ```
4. 락커들이 격자형으로 정렬됨

### 시나리오 3: 가이드라인 토글 테스트
1. 락커를 드래그 중
2. **G키** 누르기
3. **예상 결과**:
   - 가이드라인 ON/OFF 토글
   - 콘솔: `[Alignment] Guides ON` 또는 `[Alignment] Guides OFF`

### 시나리오 4: 복합 정렬 테스트
1. 락커 3개를 수평으로 배치 (상단 정렬)
2. 락커 3개를 수직으로 배치 (왼쪽 정렬)
3. **예상 레이아웃**:
   ```
   [L1][L2][L3]  <- 상단 정렬
   [L4]
   [L5]
   [L6]
   ^
   왼쪽 정렬
   ```

## 📊 콘솔 로그 확인

정상 작동 시 나타나는 로그:

### 드래그 중 정렬:
```javascript
[Alignment] Y-axis: top-to-top with locker L1
[Alignment] X-axis: left-to-left with locker L2
```

### 자동 정렬:
```javascript
[AutoAlign] Starting automatic alignment...
[AutoAlign] Processing group 1 with 4 lockers
[AutoAlign] Alignment complete!
```

### 가이드라인:
```javascript
[Alignment] Guides ON
[Alignment] Guides OFF
```

## 🎨 시각적 효과

### 가이드라인 스타일:
- **색상**: 초록색 (#00ff00)
- **스타일**: 점선 (5px dash, 5px gap)
- **애니메이션**: 페이드 인/아웃 (1초 주기)
- **투명도**: 0.3 ~ 0.8

### 정렬 애니메이션:
- **락커 이동**: 0.2초 ease-out 트랜지션
- **자동 정렬 시**: 0.3초 cubic-bezier 애니메이션

## 🐛 문제 해결

### 가이드라인이 안 보이는 경우:
1. G키를 눌러 가이드라인 활성화
2. 드래그 중에만 자동으로 표시됨
3. 5px 이내로 충분히 가까이 있어야 함

### 자동 정렬이 안 되는 경우:
1. 최소 2개 이상의 락커 필요
2. A키 또는 Ctrl+G 사용
3. 락커들이 100px 이내에 있어야 같은 그룹으로 인식

### 정렬이 부자연스러운 경우:
1. 회전된 락커는 회전 상태 유지
2. 충돌 체크로 인해 일부 정렬 제한 가능
3. 캔버스 경계 체크로 인한 제한

## 💡 추가 개선 가능 사항

### 향후 구현 가능:
- [ ] 다중 선택 후 정렬
- [ ] 정렬 간격 조절 옵션
- [ ] 정렬 기준점 선택 (좌상단, 중앙 등)
- [ ] 균등 분배 정렬
- [ ] 원형/대각선 정렬

## ✅ 테스트 체크리스트

| 기능 | 테스트 | 결과 |
|------|--------|------|
| 드래그 중 가이드라인 표시 | ⏳ | |
| 자동 줄맞춤 (5px 이내) | ⏳ | |
| A키 자동 정렬 | ⏳ | |
| G키 가이드라인 토글 | ⏳ | |
| 그룹별 격자 정렬 | ⏳ | |
| 정렬 애니메이션 | ⏳ | |

---

## 📝 테스트 URL
http://localhost:3000/

테스트 완료 후 각 항목을 ✅로 표시해주세요.